!function(n){function t(t){for(var r,i,u=t[0],c=t[1],f=t[2],s=0,d=[];s<u.length;s++)i=u[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(l&&l(t);d.length;)d.shift()();return a.push.apply(a,f||[]),e()}function e(){for(var n,t=0;t<a.length;t++){for(var e=a[t],r=!0,u=1;u<e.length;u++){var c=e[u];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),n=i(i.s=e[0]))}return n}var r={},o={2:0},a=[];function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(n,t,e){i.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)i.d(e,r,function(t){return n[t]}.bind(null,r));return e},i.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(t,"a",t),t},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var l=c;a.push([27,0]),e()}([,,,,,function(n,t,e){"use strict";e.d(t,"e",(function(){return c})),e.d(t,"b",(function(){return f})),e.d(t,"k",(function(){return l})),e.d(t,"l",(function(){return s})),e.d(t,"a",(function(){return d})),e.d(t,"i",(function(){return p})),e.d(t,"f",(function(){return b})),e.d(t,"g",(function(){return v})),e.d(t,"h",(function(){return m})),e.d(t,"d",(function(){return g})),e.d(t,"m",(function(){return y})),e.d(t,"j",(function(){return h})),e.d(t,"c",(function(){return O}));var r=e(3),o=e(9);function a(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function(n){return n.options},u=Object(r.a)([i],(function(n){var t=n.find((function(n){return"links"===n.name}));return t?t.items:[]})),c=Object(r.a)([u,o.b],(function(n,t){return a(n).filter((function(n){return n.enabled})).filter((function(n){return n.target!==t})).sort((function(n,t){return n.priority<t.priority?-1:1}))})),f=Object(r.a)([o.d,c],(function(n,t){var e=n.filter((function(n){return-1===t.findIndex((function(t){return t.name===n.name}))}));return[].concat(a(e),a(t)).sort((function(n,t){return n.priority<t.priority?-1:1}))})),l=Object(r.a)([i],(function(n){return n.filter((function(n){return"facebook_url"===n.name||"twitter_url"===n.name}))})),s=Object(r.a)([i],(function(n){var t=n.find((function(n){return"support_number"===n.name}));return t?t.value:""})),d=Object(r.a)([i],(function(n){var t=n.find((function(n){return"android_app_url"===n.name}));return t?t.value:""})),p=Object(r.a)([i],(function(n){var t=n.find((function(n){return"recaptcha_site_key"===n.name}));return t?t.value:""})),b=Object(r.a)([u],(function(n){return n.find((function(n){return"Location"===n.name}))||{}})),v=Object(r.a)([i],(function(n){var t=n.find((function(n){return"office_address"===n.name}));return t?t.value:""})),m=Object(r.a)([i],(function(n){var t=n.find((function(n){return"office_geolocation"===n.name}));if(t){var e=t.value.split(",");return{lat:Number(e[0]),lng:Number(e[1])}}return{}})),g=Object(r.a)([i],(function(n){var t=n.find((function(n){return"email_info"===n.name}));return t?t.value:""})),y=Object(r.a)([i],(function(n){var t=n.find((function(n){return"whatsapp"===n.name}));return t?t.value:""})),h=Object(r.a)([i],(function(n){var t=n.find((function(n){return"services"===n.name}));return t&&t.items.length?t.items:[]})),O=Object(r.a)([i],(function(n){var t=n.find((function(n){return"approve_cookies_warning"===n.name}));return t?t.value:""}))},function(n,t,e){"use strict";function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var o,a,i,u=window.localStorage,c=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,o;return t=n,o=[{key:"storeItem",value:function(t,e){u.setItem(t,JSON.stringify(e)),n.updateItemDate(t)}},{key:"getItem",value:function(t){try{return n.isItemExpired(t)?void u.removeItem(t):JSON.parse(u.getItem(t))}catch(n){return void console.log(n)}}},{key:"isItemExpired",value:function(n){try{var t=JSON.parse(u.getItem("".concat(n,"_date")));return void 0===t||Date.now()-t>864e5}catch(n){return console.log(n),!0}}},{key:"updateItemDate",value:function(n){u.setItem("".concat(n,"_date"),JSON.stringify(Date.now()))}}],(e=null)&&r(t.prototype,e),o&&r(t,o),n}();i={PAGE_CONFIG:"page_config",OPTIONS:"options",KIOSKS:"kiosks",RETAILERS:"retailers"},(a="keys")in(o=c)?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,t.a=c},,function(n,t,e){"use strict";e.d(t,"a",(function(){return i})),e.d(t,"b",(function(){return u})),e.d(t,"d",(function(){return c})),e.d(t,"e",(function(){return f})),e.d(t,"c",(function(){return l}));var r=e(28),o=e.n(r),a=e(14);var i=function(n){var t={key:n.id};return n.target?(t.as=a.b,t.to=n.target):n.url?(t.href=n.url,t.target="_blank",t.rel="noopener noreferrer"):console.warn("Option(id: ".concat(n.id,") doesn't have required fields.")),t},u=function(n){return(new o.a.Converter).makeHtml(n)},c=function(n,t){for(var e,r,o,a=[],i=0;i<t.elements.length;i+=1){var u=t.elements[i];u.name&&!u.disabled&&"file"!==u.type&&"reset"!==u.type&&"submit"!==u.type&&"button"!==u.type&&(("checkbox"!==u.type&&"radio"!==u.type||u.checked)&&("GET"===n?a.push("".concat(encodeURIComponent(u.name),"=").concat(encodeURIComponent(u.value))):"POST"===n&&a.push((e={},r=u.name,o=[u.value],r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e))))}return"GET"===n?a.join("&"):"POST"===n?a:void 0},f=function(){Tawk_API&&Tawk_API.toggle()},l=function(){function n(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];window.dataLayer.push(t)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-38853360-1")}},function(n,t,e){"use strict";e.d(t,"e",(function(){return o})),e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return u})),e.d(t,"a",(function(){return c})),e.d(t,"d",(function(){return f}));var r=e(3),o=function(n){return n.pages},a=function(n){return n.pages.current},i=Object(r.a)([a,o],(function(n,t){return t[n]||{buttons:[]}})),u=Object(r.a)([i],(function(n){return n.form})),c=Object(r.a)([o],(function(n){var t=n.Contacts;return t?t.content:""})),f=Object(r.a)([i],(function(n){return n.buttons.filter((function(n){return n.enabled})).sort((function(n,t){return n.priority<t.priority?-1:1}))||[]}))},function(n,t,e){"use strict";e.d(t,"b",(function(){return f}));var r=e(21),o=e.n(r),a=e(9),i=e(8),u=e(5),c=function(n){var t=n;return t=t.replace("v1","test"),o.a.get(t).then((function(n){return n})).catch((function(n){throw console.log(n),n}))},f=function(){return function(n,t){var e=t(),r=document.getElementById("page-form"),f=Object(a.c)(e),l=(Object(u.i)(e),f.url),s=f.method,d="".concat("https://backend.payway.ug").concat(l),p=Object(i.d)(s,r);switch(s){case"GET":return d="".concat(d,"?").concat(p),c(d).then((function(n){return n.data}));case"POST":return p._title=r.title,function(n,t){var e=n;return e=e.replace("v1","test"),o()({method:"POST",url:e,data:t}).then((function(n){return n})).catch((function(n){throw console.log(n),n}))}(d,p).then((function(n){return n.data}));default:return console.warn("Unknow form method"),Promise.resolve()}}},l={get:c};t.a=l},,,,,,,,,,,,function(n,t,e){n.exports=e.p+"public/icons/map/kiosk.fa7da9b38905457543361e29b75d141a.svg"},function(n,t,e){n.exports=e.p+"public/icons/map/terminal.2978d5cf93da205930e1124c908ceb06.svg"},function(n,t,e){n.exports=e.p+"public/icons/map/office.ba9178d40133ac248dc21f01bd295f70.svg"},,,function(n,t,e){"use strict";e.r(t),e.d(t,"initMap",(function(){return v}));var r=e(29),o=e(10),a=e(22),i=e.n(a),u=e(23),c=e.n(u),f=e(24),l=e.n(f),s=e(6),d=function(){var n=s.a.getItem(s.a.keys.KIOSKS);if(n)return Promise.resolve(n);var t="".concat("https://backend.payway.ug/api/test","/kiosks/");return o.a.get(t).then((function(n){return s.a.storeItem(s.a.keys.KIOSKS,n.data),n.data}))},p=function(){var n=s.a.getItem(s.a.keys.RETAILERS);if(n)return Promise.resolve(n);var t="".concat("https://backend.payway.ug/api/test","/retailers/");return o.a.get(t).then((function(n){return s.a.storeItem(s.a.keys.RETAILERS,n.data),n.data}))},b=function(n,t,e){var r={label:"",icon:{url:"",scaledSize:{width:40,height:40}},position:{lat:"",lng:""},info:{location:"",description:""}};switch(n.forEach((function(n){switch(n.name){case"Latitude":r.position.lat=Number(n.value);break;case"Longitude":r.position.lng=Number(n.value);break;case"Location":r.info.location=n.value;break;case"Description":r.info.description=n.value}})),t){case"office":r.icon.url=l.a,r.info.location="Head Office",r.info.description="Head Office Location";break;case"retailer":r.icon.url=c.a;break;case"kiosk":default:r.icon.url=i.a}return(r=new google.maps.Marker(r)).addListener("click",(function(n){e(this.info,n.ya&&n.ya.target)})),r},v=function(n,t,e,o){var a={lat:Number(t.lat),lng:Number(t.lng)},i=new google.maps.Map(n,{zoom:4,center:a,disableDefaultUI:!0});i.addListener("drag",o),i.addListener("zoom_changed",o),new Promise((function(n,t){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){n({lat:t.coords.latitude,lng:t.coords.longitude})}),(function(){t()})):t(new Error("no support for geolocation"))})).then((function(n){i.setCenter(n),i.setZoom(8)})).catch((function(){return null})),Promise.all([d(),p()]).then((function(n){var o=[],a=n[0],u=n[1];a.forEach((function(n){return o.push(b(n,"kiosk",e))})),u.forEach((function(n){return o.push(b(n,"retailer",e))})),o.push(b([{name:"Latitude",value:t.lat},{name:"Longitude",value:t.lng}],"office",e));new r.a(i,o,{imagePath:"public/images/markers/cluster/"})}))}}]);
//# sourceMappingURL=location.c73175bc0f913c35d352.js.map
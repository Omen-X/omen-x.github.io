"use strict";var mobileNav=function(){var e=document.querySelector(".m-nav"),t=document.querySelector(".m-nav-trigger"),a=e.querySelector(".m-nav__close"),s=e.querySelector(".m-nav__overlay");function i(){e.classList.contains("active")?document.documentElement.classList.remove("modal-open"):document.documentElement.classList.add("modal-open"),e.classList.toggle("active")}a.addEventListener("click",i),t.addEventListener("click",i),s.addEventListener("click",i)},searchForm=function(){var e=$(".search");if(e.length){var t=$(".search-trigger, .search__close"),a=($(".search-form",e),$(".search-form__input",e)),s=$(".search__results",e);t.click(function(){a.val(""),s.removeClass("active"),e.toggleClass("active"),e.hasClass("active")&&a.focus()}),a.blur(function(){s.removeClass("active")}),a.on("input",function(){0<$(this).val().length?s.addClass("active"):s.removeClass("active")})}},lazyLoadImages=function(){document.querySelectorAll("[data-lazy-img-src]").forEach(function(e){e.src=e.dataset.lazyImgSrc}),document.querySelectorAll("[data-lazy-bg-src]").forEach(function(e){e.style.backgroundImage+='url("'.concat(e.dataset.lazyBgSrc,'")')})},applyDynamicStyles=function(){},carouselMain=function(){var e=$(".carousel-main");e.length&&e.slick({slidesToShow:4,prevArrow:'<span class="slick-prev"><svg width="10" height="16" viewBox="0 0 10 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.92893 0.928932L1.85786 8L8.92893 15.0711" stroke="#131B21" stroke-opacity="0.5" stroke-width="2"/></svg></span>',nextArrow:'<span class="slick-next"><svg width="10" height="16" viewBox="0 0 10 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.07107 0.928932L8.14214 8L1.07107 15.0711" stroke="#131B21" stroke-opacity="0.5" stroke-width="2"/></svg></span>',responsive:[{breakpoint:1199,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:575,settings:{slidesToShow:1}}]})},tabs=function(){var e=$(".tabs");e.length&&e.each(function(){var a=$(this),e=$(".tabs__link",a),t=$(".tabs__blocks",a),s=$(".tabs__block",a).filter(".active").children().height();t.css({height:s}),e.click(function(){var e=$(this),t=e.index();$(".tabs__link.active",a).removeClass("active"),a.find(".tabs__block.active").removeClass("active"),e.addClass("active"),a.find(".tabs__block:nth-child(".concat(t+1,")")).addClass("active")})})},carouselImages=function(){var e=$(".carousel-images");e.length&&e.slick({slidesToShow:5,prevArrow:'<span class="slick-prev"><svg width="10" height="16" viewBox="0 0 10 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.92893 0.928932L1.85786 8L8.92893 15.0711" stroke="#131B21" stroke-opacity="0.5" stroke-width="2"/></svg></span>',nextArrow:'<span class="slick-next"><svg width="10" height="16" viewBox="0 0 10 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.07107 0.928932L8.14214 8L1.07107 15.0711" stroke="#131B21" stroke-opacity="0.5" stroke-width="2"/></svg></span>',responsive:[{breakpoint:1199,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:575,settings:{slidesToShow:1}}]})},validateForm=function(e){var t=$(".form-field:required, .form-field select:required, .form-field-checkbox:required",e),a=!0;return t.each(function(){var e=!1;switch(this.type){case"checkbox":e=!this.checked;break;case"select-one":(e=!$(this).closest(".select").hasClass("filled"))&&$(this).closest(".form-field").addClass("invalid");break;default:e=!this.value}e&&($(this).addClass("invalid"),a=!1)}),a||$(document.documentElement).animate({scrollTop:0},400),a},master=function(){var d=$(".master");if(d.length){var e=$(".master-form__next-btn"),t=$(".master-form__prev-btn"),a=function(e){var t=$(".master__progress-item.active",d),a=$(".master__stage.active",d);if("next"===e){var s=$(".master-form",a);if(!validateForm(s))return;var i=t.next(),n=a.next(),o=n[0].dataset.stageId;t.removeClass("active").addClass("done"),a.removeClass("active"),i.addClass("active"),n.addClass("active"),d.attr("data-stage",o||""),$(document.documentElement).animate({scrollTop:0},400)}if("prev"===e){var c=t.prev(),r=a.prev(),l=r[0].dataset.stageId;t.removeClass("active"),a.removeClass("active"),c.addClass("active").removeClass("done"),r.addClass("active"),d.attr("data-stage",l||""),$(document.documentElement).animate({scrollTop:0},400)}};e.click(function(e){e.preventDefault(),a("next")}),t.click(function(e){e.preventDefault(),a("prev")});var s=$(".verification-form",d),i=$(".form-field",s);i.change(function(){var e,t;if(!i.filter(function(){return!this.value}).length){e=$(".master-form",d),t=[],$('[class*="masked-"]',e).each(function(){this.unmaskValue&&$(this).val(this.unmaskValue())}),e.each(function(){t.push($(this).serialize())}),t.join("&");d.addClass("hidden"),$(".master-loader").removeClass("hidden")}})}},customSelect=function(){$(".select-main").each(function(){var t=$(this),e=$(this).children("option").length;t.addClass("select-hidden"),t.wrap('<div class="select"></div>'),t.after('<div class="select-styled"></div>');var a=t.next("div.select-styled"),s=t.find("option:selected");0===t.closest(".select").siblings(".select-placeholder").length&&a.text(s.text());for(var i=$("<ul />",{class:"select-options"}).insertAfter(a),n=0;n<e;n+=1)$("<li />",{text:t.children("option").eq(n).text(),rel:t.children("option").eq(n).val()}).appendTo(i);var o=i.children("li");a.click(function(e){e.stopPropagation(),$("div.select-styled.active").not(this).each(function(){$(this).removeClass("active").next("ul.select-options").hide()}),$(this).toggleClass("active").next("ul.select-options").toggle()}),o.click(function(e){e.stopPropagation(),t.parent().addClass("filled"),a.text($(this).text()).removeClass("active"),t.val($(this).attr("rel")),t.removeClass("invalid"),t.closest(".form-field").removeClass("invalid"),i.hide()}),$(document).click(function(){a.removeClass("active"),i.hide()})})},forms=function(){$(".form-field, .form-field-checkbox, .form-field select").each(function(){var e=$(this);e.on("focus change input",function(){e.removeClass("invalid")})})},maskedInputs=function(){$(".masked-number").each(function(){var t=$(this),e=t[0],a=e.dataset,s=a.minValue,i=a.maxValue,n=a.currValue,o=Number(s),c=Number(i),r=window.IMask($(this)[0],{mask:Number,min:o,max:c,thousandsSeparator:"."});e.unmaskValue=function(){return r.unmaskedValue};var l=t.closest(".form-field-wrap").find(".js-range-slider");l.ionRangeSlider({min:o,max:c,step:100,hide_min_max:!0,hide_from_to:!0,from:n,onChange:function(e){r.value=String(e.from),t.removeClass("invalid")}});var d=l.data("ionRangeSlider");t.on("blur",function(){d.update({from:r.unmaskedValue})})}),$(".masked-phone").each(function(){var e=$(this)[0],t=window.IMask(e,{mask:"{+7} (000) 000-00-00"});e.unmaskValue=function(){return t.unmaskedValue}}),$(".masked-passport").each(function(){var e=$(this)[0],t=window.IMask(e,{mask:"0000 000 000"});e.unmaskValue=function(){return t.unmaskedValue}}),$(".masked-passport-code").each(function(){var e=$(this)[0],t=window.IMask(e,{mask:"000-000"});e.unmaskValue=function(){return t.unmaskedValue}}),$(".masked-single-digit").each(function(){var e=$(this)[0],t=window.IMask(e,{mask:Number,min:0,max:9,validate:function(e){return!!e}});e.unmaskValue=function(){return t.unmaskedValue}})},datePicker=function(){$(".form-field_datepicker").each(function(){var e=$(this)[0].dataset.startDate,t=$(this)[0].dataset.endDate;"today"===t&&(t=Date.now()),$(this).datepicker({language:"ru-RU",autoHide:!0,startDate:e||Date.now(),endDate:t||""}),$(this).click(function(e){e.preventDefault(),console.log("f")})})};function documentReady(){document.body.addEventListener("click",function(){}),window.addEventListener("resize",function(){applyDynamicStyles()}),searchForm(),mobileNav(),lazyLoadImages(),carouselMain(),tabs(),carouselImages(),master(),customSelect(),maskedInputs(),datePicker(),forms(),document.body.classList.add("js-loaded")}!function e(){"complete"!==document.readyState?setTimeout(e,10):documentReady()}();
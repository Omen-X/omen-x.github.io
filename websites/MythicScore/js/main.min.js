"use strict";var notificationTimer,catNavigation=function(){if(document.querySelector(".categories-nav-wrap")){var i=document.querySelector(".categories-nav");if(i.clientWidth<i.scrollWidth&&(i.classList.contains("categories-nav_breadcrumbs")&&(i.scrollLeft=i.scrollWidth-i.clientWidth),document.body.classList.contains("no-touch"))){var t=function(t){t=window.event||t;var e=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));i.scrollLeft-=40*e,t.preventDefault()};i.addEventListener("mousewheel",t,!1),i.addEventListener("DOMMouseScroll",t,!1)}}},customSelect=function(){$(".select-main").each(function(){var e=$(this),t=$(this).children("option").length;e.addClass("select-hidden"),e.wrap('<div class="select"></div>'),e.after('<div class="select-styled"></div>');var i=e.next("div.select-styled");i.text(e.children("option").eq(0).text());for(var o=$("<ul />",{class:"select-options"}).insertAfter(i),c=0;c<t;c++)$("<li />",{text:e.children("option").eq(c).text(),rel:e.children("option").eq(c).val()}).appendTo(o);var n=o.children("li");i.click(function(t){t.stopPropagation(),$("div.select-styled.active").not(this).each(function(){$(this).removeClass("active").next("ul.select-options").hide()}),$(this).toggleClass("active").next("ul.select-options").toggle()}),n.click(function(t){t.stopPropagation(),i.text($(this).text()).removeClass("active"),e.val($(this).attr("rel")),o.hide()}),$(document).click(function(){i.removeClass("active"),o.hide()})})},customCounter=function(){if($(".my-counter").length){var t=$(".my-counter__btn-up"),e=$(".my-counter__btn-down"),c="my-counter__btn_disabled";t.click(function(t){var e=$(t.target),i=e.siblings(".my-counter__value"),o=+i.val();i.val(1+o),1<o&&e.siblings(".my-counter__btn-down").removeClass(c)}),e.click(function(t){var e=$(t.target),i=e.siblings(".my-counter__value"),o=+i.val();o<=1?e.addClass(c):i.val(o-1)})}},cardPage=function(){var t=document.querySelector(".product-wrap");t&&(768<window.innerWidth&&($(".product-counter, .cart-options",$(t)).trigger("sticky_kit:detach"),$(".product-aside-wrap").stick_in_parent({recalc_every:1,offset_top:20})),window.innerWidth<=768&&($(".product-counter, .cart-options",$(t)).trigger("sticky_kit:detach"),$(".product-aside-wrap").trigger("sticky_kit:detach")),window.innerWidth<=768?document.body.style.paddingBottom="".concat(t.querySelector(".product-counter").clientHeight,"px"):document.body.style.paddingBottom=0)},mobileCart=function(){var t=document.querySelector(".form-cart");if(window.innerWidth<=768&&t&&!t.classList.contains("mobile-layout")){var e=t.querySelector(".cart-desc"),i=e.removeChild(e.querySelector(".form-cart__submit")),o=e.removeChild(e.querySelector(".cart-counter")),c=e.removeChild(e.querySelector(".cart-desc__link"));t.appendChild(c),t.appendChild(o),t.appendChild(i),t.classList.add("mobile-layout")}else if(768<window.innerWidth&&t&&t.classList.contains("mobile-layout")){var n=t.querySelector(".cart-desc"),r=t.removeChild(t.querySelector(".form-cart__submit")),a=t.removeChild(t.querySelector(".cart-counter")),l=t.removeChild(t.querySelector(".cart-desc__link"));n.appendChild(a),n.appendChild(l),n.appendChild(r),t.classList.remove("mobile-layout")}var s=document.querySelector(".product-wrap");if(window.innerWidth<=768&&s&&!s.classList.contains("mobile-layout")){var d=s.querySelector(".product__content").removeChild(s.querySelector(".product__desc"));s.appendChild(d),d.classList.add("visible"),s.classList.add("mobile-layout")}else if(768<window.innerWidth&&s&&s.classList.contains("mobile-layout")){var u=s.removeChild(s.querySelector(".product__desc"));document.querySelector(".product__content").appendChild(u),u.classList.add("visible"),s.classList.remove("mobile-layout")}},sideBar=function(){var t=$(".live-wrap");t.length&&$(".live-trigger").click(function(){t.toggleClass("active")})},cart=function(){var t=$(".cart");t.length&&($(".cart-product__close",t).click(function(){$(this).closest(".cart__product").slideUp(200)}),$(".cart__submit").click(function(){$(".checkout").removeClass("hidden"),$(document.documentElement).animate({scrollTop:t.offset().top+t.height()+45},900)}),$(".cart__discount-submit").click(function(){window.dispatchEvent(new CustomEvent("showNotification",{detail:{content:"<p>Your coupon is applied</p>"}}))}))},showNotification=function t(e){var i=document.querySelector(".notification");if(i){var o=i.querySelector(".notification__text");notificationTimer=i.classList.contains("active")?(clearTimeout(notificationTimer),i.classList.remove("active"),setTimeout(function(){t(e)},500)):(o.innerHTML=e,i.classList.add("active"),setTimeout(function(){i.classList.remove("active")},3e3))}};function documentReady(){window.addEventListener("resize",function(){cardPage(),mobileCart()}),window.addEventListener("showNotification",function(t){showNotification(t.detail.content)}),catNavigation(),customSelect(),customCounter(),cardPage(),mobileCart(),sideBar(),cart()}!function t(){"complete"!==document.readyState?setTimeout(t,10):documentReady()}();
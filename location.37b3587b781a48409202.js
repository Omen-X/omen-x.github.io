!function(e){function n(n){for(var r,c,i=n[0],u=n[1],f=n[2],l=0,d=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(n);d.length;)d.shift()();return a.push.apply(a,f||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,i=1;i<t.length;i++){var u=t[i];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),e=c(c.s=t[0]))}return e}var r={},o={2:0},a=[];function c(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=r,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)c.d(t,r,function(n){return e[n]}.bind(null,r));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var f=0;f<i.length;f++)n(i[f]);var s=u;a.push([28,0]),t()}([,,,,function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=window.localStorage,c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,o;return n=e,o=[{key:"storeItem",value:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(Array.isArray(t)&&0===t.length)return void console.warn("Empty array received from server");a.setItem(n,JSON.stringify(t)),r||e.updateItemDate(n)}catch(e){console.log(e)}}},{key:"removeItem",value:function(e){try{a.removeItem(e)}catch(e){console.log(e)}}},{key:"getItem",value:function(n){try{return e.isItemExpired(n)?void a.removeItem(n):JSON.parse(a.getItem(n))}catch(e){return void console.log(e)}}},{key:"isItemExpired",value:function(n){try{if(Object.keys(e.frozenKeys).map((function(n){return e.frozenKeys[n]})).includes(n))return!1;var t=JSON.parse(a.getItem("".concat(n,"_date")));return void 0===t||Date.now()-t>864e5}catch(e){return console.log(e),!0}}},{key:"updateItemDate",value:function(e){a.setItem("".concat(e,"_date"),JSON.stringify(Date.now()))}},{key:"clearStoredData",value:function(){try{var n=Object.keys(e.keys).map((function(n){return e.keys[n]}));Object.keys(a).forEach((function(t){n.forEach((function(n){t.startsWith(n)&&e.removeItem(t)}))}))}catch(e){console.log(e)}}}],(t=null)&&r(n.prototype,t),o&&r(n,o),e}();o(c,"keys",{PAGE_CONFIG:"page_config",OPTIONS:"options",KIOSKS:"kiosks",RETAILERS:"retailers"}),o(c,"frozenKeys",{CURRENT_HASH:"current_hash"}),n.a=c},,function(e,n,t){"use strict";t.d(n,"e",(function(){return u})),t.d(n,"b",(function(){return f})),t.d(n,"l",(function(){return s})),t.d(n,"m",(function(){return l})),t.d(n,"a",(function(){return d})),t.d(n,"j",(function(){return p})),t.d(n,"g",(function(){return m})),t.d(n,"f",(function(){return v})),t.d(n,"h",(function(){return b})),t.d(n,"i",(function(){return g})),t.d(n,"d",(function(){return y})),t.d(n,"n",(function(){return h})),t.d(n,"k",(function(){return O})),t.d(n,"c",(function(){return w}));var r=t(3),o=t(8);function a(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(e){return e.options},i=Object(r.a)([c],(function(e){var n=e.find((function(e){return"links"===e.name}));return n?n.items:[]})),u=Object(r.a)([i,o.c],(function(e,n){return a(e).filter((function(e){return e.enabled})).filter((function(e){return e.target!==n})).sort((function(e,n){return e.priority<n.priority?-1:1}))})),f=Object(r.a)([o.f,u],(function(e,n){var t=e.filter((function(e){return-1===n.findIndex((function(n){return n.name===e.name}))}));return[].concat(a(t),a(n)).sort((function(e,n){return e.priority<n.priority?-1:1}))})),s=Object(r.a)([c],(function(e){return e.filter((function(e){return"facebook_url"===e.name||"twitter_url"===e.name}))})),l=Object(r.a)([c],(function(e){var n=e.find((function(e){return"support_number"===e.name}));return n?n.value:""})),d=Object(r.a)([c],(function(e){var n=e.find((function(e){return"android_app_url"===e.name}));return n?n.value:""})),p=Object(r.a)([c],(function(e){var n=e.find((function(e){return"recaptcha_site_key"===e.name}));return n?n.value:""})),m=Object(r.a)([c],(function(e){var n=e.find((function(e){return"google_maps_js_api_key"===e.name}));return n?n.value.trim():""})),v=Object(r.a)([i],(function(e){return e.find((function(e){return"Location"===e.name}))||{}})),b=Object(r.a)([c],(function(e){var n=e.find((function(e){return"office_address"===e.name}));return n?n.value:""})),g=Object(r.a)([c],(function(e){var n=e.find((function(e){return"office_geolocation"===e.name}));if(n){var t=n.value.split(",");return{lat:Number(t[0]),lng:Number(t[1])}}return{}})),y=Object(r.a)([c],(function(e){var n=e.find((function(e){return"email_info"===e.name}));return n?n.value:""})),h=Object(r.a)([c],(function(e){var n=e.find((function(e){return"whatsapp"===e.name}));return n?n.value:""})),O=Object(r.a)([c],(function(e){var n=e.find((function(e){return"services"===e.name}));return n&&n.items.length?n.items:[]})),w=Object(r.a)([c],(function(e){var n=e.find((function(e){return"approve_cookies_warning"===e.name}));return n?n.value:""}))},function(e,n,t){"use strict";t.d(n,"d",(function(){return s})),t.d(n,"c",(function(){return l})),t.d(n,"e",(function(){return d})),t.d(n,"g",(function(){return p})),t.d(n,"h",(function(){return m})),t.d(n,"f",(function(){return b})),t.d(n,"a",(function(){return g})),t.d(n,"i",(function(){return y})),t.d(n,"b",(function(){return h}));var r=t(29),o=t.n(r),a=t(14),c=t(8),i=t(4);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=function(e){return e.split("-").map((function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))})).join("")},l=function(e){var n={key:e.id};return e.target?(n.as=a.b,n.to=function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(t,!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{pathname:(t=e.target,r=[],o=0,t.split("").forEach((function(e,n){0!==n&&e===e.toUpperCase()?(r.push(t.slice(o,n).toLowerCase()),o=n):n===t.length-1&&r.push(t.slice(o).toLowerCase())})),"/".concat(r.join("-"),"/"))});var t,r,o}):e.url?(n.href=e.url,n.target="_blank",n.rel="noopener noreferrer"):console.warn("Option(id: ".concat(e.id,") doesn't have required fields.")),n},d=function(e){return(new o.a.Converter).makeHtml(e)},p=function(e,n){for(var t="POST"===e?{}:[],r=0;r<n.elements.length;r+=1){var o=n.elements[r];if(o.name&&!o.disabled&&"file"!==o.type&&"reset"!==o.type&&"submit"!==o.type&&"button"!==o.type&&("checkbox"!==o.type&&"radio"!==o.type||o.checked)){var a=o.value.trim?o.value.trim():o.value;"GET"===e?t.push("".concat(encodeURIComponent(o.name),"=").concat(encodeURIComponent(a))):"POST"===e&&(t[o.name]=a)}}return"GET"===e?t.join("&"):"POST"===e?t:void 0},m=function(){Tawk_API&&Tawk_API.toggle()};function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];window.dataLayer.push(n)}var b=function(){window.dataLayer=window.dataLayer||[],v("js",new Date),v("config","UA-38853360-1")},g=function(e){if(!document.getElementById("recaptcha-api")){var n=document.createElement("script");n.onload=function(){grecaptcha.ready((function(){}))},n.async=!0,n.defer=!0,n.id="recaptcha-api",n.src="https://www.google.com/recaptcha/api.js?render=".concat(e),document.body.appendChild(n)}},y=function(){return function(e,n){var t=n(),r=Object(c.b)(t),o=r.title,a=r.seoDescription,i=r.seoKeys,u=r.seoTitle;u?(document.title=u,document.querySelector('meta[property="og:title"]').setAttribute("content",u)):o&&(document.title=o),a&&document.querySelector("meta[name=description]").setAttribute("content",a),i&&document.querySelector("meta[name=keywords]").setAttribute("content",i)}},h=function(){var e=i.a.getItem(i.a.frozenKeys.CURRENT_HASH),n=document.querySelector('script[src^="/app."]');if(n){var t=n.src.split("."),r=t[t.length-2];e&&r===e||(console.log("Clearing Local Storage data"),i.a.clearStoredData(),i.a.storeItem(i.a.frozenKeys.CURRENT_HASH,r,!0))}else console.warn("Can't detect app.js file")}},function(e,n,t){"use strict";t.d(n,"g",(function(){return o})),t.d(n,"c",(function(){return a})),t.d(n,"e",(function(){return c})),t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return u})),t.d(n,"a",(function(){return f})),t.d(n,"f",(function(){return s}));var r=t(3),o=function(e){return e.pages},a=function(e){return e.pages.current},c=function(e){return e.pages.isLoading},i=Object(r.a)([a,o],(function(e,n){return n[e]||{buttons:[]}})),u=Object(r.a)([i],(function(e){return e.form})),f=Object(r.a)([o],(function(e){var n=e.Contacts;return n?n.content:""})),s=Object(r.a)([i],(function(e){return e.buttons.filter((function(e){return e.enabled})).sort((function(e,n){return e.priority<n.priority?-1:1}))||[]}))},,function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"c",(function(){return d}));var r=t(21),o=t.n(r),a=t(8),c=t(7),i=t(6),u="The request cannot be sent at the moment, please try again later.",f=function(e){var n=e;return o.a.get(n).then((function(e){return e})).catch((function(){throw new Error(u)}))},s=function(e){return new Promise((function(n,t){grecaptcha.execute(e).then((function(e){n(e)}),(function(e){console.log(e),t()}))}))},l=function(e){return e.error&&console.warn(e.error),e.error||Array.isArray(e)&&0===e.length?Promise.reject(new Error(u)):Promise.resolve(e)},d=function(){return function(e,n){var t=n(),r=document.getElementById("page-form"),d=Object(a.d)(t),p=Object(i.j)(t),m=d.url,v=d.method,b="".concat("https://backend.payway.ug").concat(m),g=Object(c.g)(v,r);switch(v){case"GET":return b="".concat(b,"?").concat(g),s(p).then((function(e){b+="&_recaptcha_token=".concat(encodeURIComponent(e))})).then((function(){return f(b)})).then((function(e){return l(e.data)}));case"POST":return g.title=d.title,s(p).then((function(e){g._recaptcha_token=e})).then((function(){return function(e,n){var t=e;return o()({method:"POST",url:t,data:n}).then((function(e){return e})).catch((function(){throw new Error(u)}))}(b,g)})).then((function(e){return l(e.data)}));default:return console.warn("Unhandled form method"),Promise.reject(new Error(u))}}},p={get:f};n.b=p},,,,,,,,,,,,,function(e,n,t){e.exports=t.p+"public/icons/map/kiosk.fa7da9b38905457543361e29b75d141a.svg"},function(e,n,t){e.exports=t.p+"public/icons/map/terminal.2978d5cf93da205930e1124c908ceb06.svg"},function(e,n,t){e.exports=t.p+"public/icons/map/office.ba9178d40133ac248dc21f01bd295f70.svg"},,,function(e,n,t){"use strict";t.r(n),t.d(n,"initMap",(function(){return m}));var r=t(30),o=t(10),a=t(23),c=t.n(a),i=t(24),u=t.n(i),f=t(25),s=t.n(f),l=t(4),d=function(){var e=l.a.getItem(l.a.keys.RETAILERS);if(e)return Promise.resolve(e);var n="".concat("https://backend.payway.ug/api/v1","/retailers/");return o.b.get(n).then((function(e){return l.a.storeItem(l.a.keys.RETAILERS,e.data),e.data}))},p=function(e,n,t){var r={label:"",icon:{url:"",scaledSize:{width:40,height:40}},position:{lat:"",lng:""},info:{location:"",description:""}};switch(e.forEach((function(e){switch(e.name){case"Latitude":r.position.lat=Number(e.value);break;case"Longitude":r.position.lng=Number(e.value);break;case"Location":r.info.location=e.value;break;case"Description":r.info.description=e.value}})),n){case"office":r.icon.url=s.a,r.info.location="Head Office",r.info.description="Head Office Location";break;case"retailer":r.icon.url=u.a;break;case"kiosk":default:r.icon.url=c.a}return(r=new google.maps.Marker(r)).addListener("click",(function(e){t(this.info,e.ya&&e.ya.target)})),r},m=function(e,n,t,a){var c={lat:Number(n.lat),lng:Number(n.lng)},i=new google.maps.Map(e,{zoom:6,center:c,gestureHandling:"cooperative"});i.addListener("drag",a),i.addListener("zoom_changed",a),new Promise((function(e,n){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){e({lat:n.coords.latitude,lng:n.coords.longitude})}),(function(){n()})):n(new Error("no support for geolocation"))})).then((function(e){i.setCenter(e),i.setZoom(10)})).catch((function(){return null}));var u=[],f=[];(function(){var e=l.a.getItem(l.a.keys.KIOSKS);if(e)return Promise.resolve(e);var n="".concat("https://backend.payway.ug/api/v1","/kiosks/");return o.b.get(n).then((function(e){return l.a.storeItem(l.a.keys.KIOSKS,e.data),e.data}))})().then((function(e){u=e})).then(d).then((function(e){f=e})).then((function(){var e=[];u.forEach((function(n){return e.push(p(n,"kiosk",t))})),f.forEach((function(n){return e.push(p(n,"retailer",t))})),p([{name:"Latitude",value:n.lat},{name:"Longitude",value:n.lng}],"office",t).setMap(i);new r.a(i,e,{imagePath:"/public/images/markers/cluster/"})}))}}]);
//# sourceMappingURL=location.37b3587b781a48409202.js.map
!function(e){function t(t){for(var r,c,i=t[0],u=t[1],f=t[2],l=0,d=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,f||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={2:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var f=0;f<i.length;f++)t(i[f]);var s=u;a.push([28,0]),n()}([,,,,function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=window.localStorage,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"storeItem",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(Array.isArray(n)&&0===n.length)return void console.warn("Empty array received from server");a.setItem(t,JSON.stringify(n)),r||e.updateItemDate(t)}catch(e){console.log(e)}}},{key:"removeItem",value:function(e){try{a.removeItem(e)}catch(e){console.log(e)}}},{key:"getItem",value:function(t){try{return e.isItemExpired(t)?void a.removeItem(t):JSON.parse(a.getItem(t))}catch(e){return void console.log(e)}}},{key:"isItemExpired",value:function(t){try{if(Object.keys(e.frozenKeys).map((function(t){return e.frozenKeys[t]})).includes(t))return!1;var n=JSON.parse(a.getItem("".concat(t,"_date")));return void 0===n||Date.now()-n>864e5}catch(e){return console.log(e),!0}}},{key:"updateItemDate",value:function(e){a.setItem("".concat(e,"_date"),JSON.stringify(Date.now()))}},{key:"clearStoredData",value:function(){try{var t=Object.keys(e.keys).map((function(t){return e.keys[t]}));Object.keys(a).forEach((function(n){t.forEach((function(t){n.startsWith(t)&&e.removeItem(n)}))}))}catch(e){console.log(e)}}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();o(c,"keys",{PAGE_CONFIG:"page_config",OPTIONS:"options",KIOSKS:"kiosks",RETAILERS:"retailers"}),o(c,"frozenKeys",{CURRENT_HASH:"current_hash"}),t.a=c},,function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"n",(function(){return h})),n.d(t,"k",(function(){return O})),n.d(t,"c",(function(){return w}));var r=n(3),o=n(8);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(e){return e.options},i=Object(r.a)([c],(function(e){var t=e.find((function(e){return"links"===e.name}));return t?t.items:[]})),u=Object(r.a)([i,o.c],(function(e,t){return a(e).filter((function(e){return e.enabled})).filter((function(e){return e.target!==t})).sort((function(e,t){return e.priority<t.priority?-1:1}))})),f=Object(r.a)([o.f,u],(function(e,t){var n=e.filter((function(e){return-1===t.findIndex((function(t){return t.name===e.name}))}));return[].concat(a(n),a(t)).sort((function(e,t){return e.priority<t.priority?-1:1}))})),s=Object(r.a)([c],(function(e){return e.filter((function(e){return"facebook_url"===e.name||"twitter_url"===e.name}))})),l=Object(r.a)([c],(function(e){var t=e.find((function(e){return"support_number"===e.name}));return t?t.value:""})),d=Object(r.a)([c],(function(e){var t=e.find((function(e){return"android_app_url"===e.name}));return t?t.value:""})),p=Object(r.a)([c],(function(e){var t=e.find((function(e){return"recaptcha_site_key"===e.name}));return t?t.value:""})),m=Object(r.a)([c],(function(e){var t=e.find((function(e){return"google_maps_js_api_key"===e.name}));return t?t.value.trim():""})),v=Object(r.a)([i],(function(e){return e.find((function(e){return"Location"===e.name}))||{}})),b=Object(r.a)([c],(function(e){var t=e.find((function(e){return"office_address"===e.name}));return t?t.value:""})),g=Object(r.a)([c],(function(e){var t=e.find((function(e){return"office_geolocation"===e.name}));if(t){var n=t.value.split(",");return{lat:Number(n[0]),lng:Number(n[1])}}return{}})),y=Object(r.a)([c],(function(e){var t=e.find((function(e){return"email_info"===e.name}));return t?t.value:""})),h=Object(r.a)([c],(function(e){var t=e.find((function(e){return"whatsapp"===e.name}));return t?t.value:""})),O=Object(r.a)([c],(function(e){var t=e.find((function(e){return"services"===e.name}));return t&&t.items.length?t.items:[]})),w=Object(r.a)([c],(function(e){var t=e.find((function(e){return"approve_cookies_warning"===e.name}));return t?t.value:""}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"j",(function(){return h})),n.d(t,"b",(function(){return O}));var r=n(29),o=n.n(r),a=n(14),c=n(8),i=n(4);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("-").map((function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))})).join("")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=0;return e.split("").forEach((function(r,o){0!==o&&r===r.toUpperCase()?(t.push(e.slice(n,o).toLowerCase()),n=o):o===e.length-1&&t.push(e.slice(n).toLowerCase())})),"/".concat(t.join("-"),"/")},d=function(e){var t={key:e.id};return e.target?(t.as=a.b,t.to=function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{pathname:l(e.target)})}):e.url?(t.href=e.url,t.target="_blank",t.rel="noopener noreferrer"):console.warn("Option(id: ".concat(e.id,") doesn't have required fields.")),t},p=function(e){return(new o.a.Converter).makeHtml(e)},m=function(e,t){for(var n="POST"===e?{}:[],r=0;r<t.elements.length;r+=1){var o=t.elements[r];if(o.name&&!o.disabled&&"file"!==o.type&&"reset"!==o.type&&"submit"!==o.type&&"button"!==o.type&&("checkbox"!==o.type&&"radio"!==o.type||o.checked)){var a=o.value.trim?o.value.trim():o.value;"GET"===e?n.push("".concat(encodeURIComponent(o.name),"=").concat(encodeURIComponent(a))):"POST"===e&&(n[o.name]=a)}}return"GET"===e?n.join("&"):"POST"===e?n:void 0},v=function(){Tawk_API&&Tawk_API.toggle()};function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.dataLayer.push(t)}var g=function(){window.dataLayer=window.dataLayer||[],b("js",new Date),b("config","UA-38853360-1")},y=function(e){if(!document.getElementById("recaptcha-api")){var t=document.createElement("script");t.onload=function(){grecaptcha.ready((function(){}))},t.async=!0,t.defer=!0,t.id="recaptcha-api",t.src="https://www.google.com/recaptcha/api.js?render=".concat(e),document.body.appendChild(t)}},h=function(){return function(e,t){var n=t(),r=Object(c.b)(n),o=r.title,a=r.seoDescription,i=r.seoKeys,u=r.seoTitle;u?(document.title=u,document.querySelector('meta[property="og:title"]').setAttribute("content",u)):o&&(document.title=o),a&&document.querySelector("meta[name=description]").setAttribute("content",a),i&&document.querySelector("meta[name=keywords]").setAttribute("content",i)}},O=function(){var e=i.a.getItem(i.a.frozenKeys.CURRENT_HASH),t=document.querySelector('script[src^="/app."]');if(t){var n=t.src.split("."),r=n[n.length-2];e&&r===e||(console.log("Clearing Local Storage data"),i.a.clearStoredData(),i.a.storeItem(i.a.frozenKeys.CURRENT_HASH,r,!0))}else console.warn("Can't detect app.js file")}},function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return s}));var r=n(3),o=function(e){return e.pages},a=function(e){return e.pages.current},c=function(e){return e.pages.isLoading},i=Object(r.a)([a,o],(function(e,t){return t[e]||{buttons:[]}})),u=Object(r.a)([i],(function(e){return e.form})),f=Object(r.a)([o],(function(e){var t=e.Contacts;return t?t.content:""})),s=Object(r.a)([i],(function(e){return e.buttons.filter((function(e){return e.enabled})).sort((function(e,t){return e.priority<t.priority?-1:1}))||[]}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(21),o=n.n(r),a=n(8),c=n(7),i=n(6),u="The request cannot be sent at the moment, please try again later.",f=function(e){var t=e;return t=t.replace("v1","test"),o.a.get(t).then((function(e){return e})).catch((function(){throw new Error(u)}))},s=function(e){return new Promise((function(t,n){grecaptcha.execute(e).then((function(e){t(e)}),(function(e){console.log(e),n()}))}))},l=function(e){return e.error?Promise.reject(new Error(e.error)):Array.isArray(e)&&0===e.length?Promise.reject(new Error(u)):Promise.resolve(e)},d=function(){return function(e,t){var n=t(),r=document.getElementById("page-form"),d=Object(a.d)(n),p=Object(i.j)(n),m=d.url,v=d.method,b="".concat("https://backend.payway.ug").concat(m),g=Object(c.h)(v,r);switch(v){case"GET":return b="".concat(b,"?").concat(g),s(p).then((function(e){b+="&_recaptcha_token=".concat(encodeURIComponent(e))})).then((function(){return f(b)})).then((function(e){return l(e.data)}));case"POST":return g.title=d.title,s(p).then((function(e){g._recaptcha_token=e})).then((function(){return function(e,t){var n=e;return n=n.replace("v1","test"),o()({method:"POST",url:n,data:t}).then((function(e){return e})).catch((function(){throw new Error(u)}))}(b,g)})).then((function(e){return l(e.data)}));default:return console.warn("Unhandled form method"),Promise.reject(new Error(u))}}},p={get:f};t.b=p},,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"public/icons/map/kiosk.fa7da9b38905457543361e29b75d141a.svg"},function(e,t,n){e.exports=n.p+"public/icons/map/terminal.2978d5cf93da205930e1124c908ceb06.svg"},function(e,t,n){e.exports=n.p+"public/icons/map/office.ba9178d40133ac248dc21f01bd295f70.svg"},,,function(e,t,n){"use strict";n.r(t),n.d(t,"initMap",(function(){return m}));var r=n(30),o=n(10),a=n(23),c=n.n(a),i=n(24),u=n.n(i),f=n(25),s=n.n(f),l=n(4),d=function(){var e=l.a.getItem(l.a.keys.RETAILERS);if(e)return Promise.resolve(e);var t="".concat("https://backend.payway.ug/api/test","/retailers/");return o.b.get(t).then((function(e){return l.a.storeItem(l.a.keys.RETAILERS,e.data),e.data}))},p=function(e,t,n){var r={label:"",icon:{url:"",scaledSize:{width:40,height:40}},position:{lat:"",lng:""},info:{location:"",description:""}};switch(e.forEach((function(e){switch(e.name){case"Latitude":r.position.lat=Number(e.value);break;case"Longitude":r.position.lng=Number(e.value);break;case"Location":r.info.location=e.value;break;case"Description":r.info.description=e.value}})),t){case"office":r.icon.url=s.a,r.info.location="Head Office",r.info.description="Head Office Location";break;case"retailer":r.icon.url=u.a;break;case"kiosk":default:r.icon.url=c.a}return(r=new google.maps.Marker(r)).addListener("click",(function(e){n(this.info,e.ya&&e.ya.target)})),r},m=function(e,t,n,a){var c={lat:Number(t.lat),lng:Number(t.lng)},i=new google.maps.Map(e,{zoom:6,center:c,gestureHandling:"greedy"});i.addListener("drag",a),i.addListener("zoom_changed",a),new Promise((function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e({lat:t.coords.latitude,lng:t.coords.longitude})}),(function(){t()})):t(new Error("no support for geolocation"))})).then((function(e){i.setCenter(e),i.setZoom(10)})).catch((function(){return null}));var u=[],f=[];(function(){var e=l.a.getItem(l.a.keys.KIOSKS);if(e)return Promise.resolve(e);var t="".concat("https://backend.payway.ug/api/test","/kiosks/");return o.b.get(t).then((function(e){return l.a.storeItem(l.a.keys.KIOSKS,e.data),e.data}))})().then((function(e){u=e})).then(d).then((function(e){f=e})).then((function(){var e=[];u.forEach((function(t){return e.push(p(t,"kiosk",n))})),f.forEach((function(t){return e.push(p(t,"retailer",n))})),p([{name:"Latitude",value:t.lat},{name:"Longitude",value:t.lng}],"office",n).setMap(i);new r.a(i,e,{imagePath:"/public/images/markers/cluster/"})}))}}]);
//# sourceMappingURL=location.137c331b9113760f26b0.js.map